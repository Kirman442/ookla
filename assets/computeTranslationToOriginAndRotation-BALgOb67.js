import{aK as L,gv as S,gw as T,gx as N,dV as k,gy as _,gz as g,gA as F,gB as p,gC as G,gD as I,gE as o,G as H,gF as R,gG as c,gH as W,gI as $,bC as M}from"./index-Bjl6Xt50.js";const h=new L(S),i=new L(T),f=new L(N);new L(k);function x(s){const u=P.get(s);if(u)return u;let n=h;if(s)if(s===i)n=i;else if(s===f)n=f;else{const E=s.wkid,a=s.latestWkid;if(E!=null||a!=null)_(E)||_(a)?n=i:(g(E)||g(a))&&(n=f);else{const e=s.wkt2??s.wkt;if(e){const r=e.toUpperCase();r===U?n=i:r===d&&(n=f)}}}return P.set(s,n),n}const P=new Map,U=i.wkt.toUpperCase(),d=f.wkt.toUpperCase();function O(s,u,n){const E=Math.sin(s),a=Math.cos(s),e=Math.sin(u),r=Math.cos(u),t=n;return t[0]=-E,t[4]=-e*a,t[8]=r*a,t[12]=0,t[1]=a,t[5]=-e*E,t[9]=r*E,t[13]=0,t[2]=0,t[6]=r,t[10]=e,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function m(s,u,n){return O(s,u,n),F(n,n),n}function D(s,u,n,E){if(s==null||E==null)return!1;const a=p(s,G),e=p(E,I);if(a===e&&!w(e)&&(a!==o.UNKNOWN||H(s,E)))return R(n,u),!0;if(w(e)){const r=c[a][o.LON_LAT],t=c[o.LON_LAT][e];return r!=null&&t!=null&&(r(u,0,l,0),t(l,0,C,0),O(A*l[0],A*l[1],n),n[12]=C[0],n[13]=C[1],n[14]=C[2],!0)}if((e===o.WEB_MERCATOR||e===o.PLATE_CARREE||e===o.WGS84)&&(a===o.WGS84||a===o.CGCS2000&&e===o.PLATE_CARREE||a===o.SPHERICAL_ECEF||a===o.WEB_MERCATOR)){const r=c[a][o.LON_LAT],t=c[o.LON_LAT][e];return r!=null&&t!=null&&(r(u,0,l,0),t(l,0,C,0),a===o.SPHERICAL_ECEF?m(A*l[0],A*l[1],n):W(n),n[12]=C[0],n[13]=C[1],n[14]=C[2],!0)}return!1}function w(s){return s===o.SPHERICAL_ECEF||s===o.SPHERICAL_MARS_PCPF||s===o.SPHERICAL_MOON_PCPF}const A=$(1),l=M(),C=M();export{D as R,x as a};
